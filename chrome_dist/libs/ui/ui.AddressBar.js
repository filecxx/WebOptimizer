
Std.ui.module("AddressBar",{b:"widget",c:"change iconClick",e:{level:3,defaultClass:"StdUI_AddressBar",editable:!0,type:"toggle",border:"auto",status:"none",value:"",sep:"/",icon:null,iconWidth:18,iconHeight:18},g:{render:function(){var t=this,n=t.DOMMap;n.paths&&t.updatePaths(),n.input&&n.input.value(value),t.initEvents()},width:function(t){this.DOMMap},height:function(t){var n=this,i=n.DOMMap;"auto"!==t&&(t=isNumber(t)?t:n.height(),t-=n.boxSize.height+n.boxSize.extraHeight,n[0].lineHeight(t),i.input&&i.input.lineHeight(t))}},n:{initDOMTree:function(){var t=this.DOMMap={table:newDom("table")};t.table.append(t.tbody=newDom("tbody").append(t.tr=newDom("tr"))).appendTo(this[0])},initIcon:function(){var n=this,t=n.DOMMap;return t.iconTD=newDom("td").append(t.icon=newDiv("_icon").on("click",function(t){n.emit("iconClick",t)})).prependTo(t.tr),n.call_opts({iconWidth:null,iconHeight:null},!0)},initPaths:function(){var i=this,t=i.DOMMap;t.pathsTD=newDom("td").append(t.paths=newDiv("_paths")).appendTo(t.tr),t.paths.on("mouseenter","> ._path",function(t){this.mouse({auto:!1,click:function(t){var n=this.data("path");this.hasClass("_icon")||i.value(n),t.stopPropagation()}},t)})},initComboBox:function(){var t=this,n=t.opts;t.DOMMap.comboBox=newDiv("_comboBox").attr("tabIndex",1).append(t.DOMMap.input=newDom("input","_input").on("keydown[return]",function(){"toggle"===n.type&&t.status("none"),t.value(this.value()),t[0].focus()}).lineHeight(t.height()-t.boxSize.height-t.boxSize.extraHeight)).appendTo(t.DOMMap.pathsTD)},initComboBoxList:function(){},initPathsList:function(){},initEvents:function(){var n=this,i=n.opts;n[0].focussing(function(){n.addClass("focused")},function(){n.removeClass("focused")}),n[0].on("mouseenter",function(t){this.mouse({auto:!1,click:function(t){"none"===n.status()&&"toggle"===i.type&&n.status("edit")}},t)})}},i:{parsePath:function(t){for(var n="",i=0,e=this.opts.sep,o="",a=[],p=t.length;i<p;i++){var s=t.charAt(i);":"===s&&t.charAt(i+1)==e&&0==a.length?(n=o,o="",i++):s===e?""!==o&&(a.push(o),o=""):o+=s}return""!==o&&a.push(o),{protocol:n,paths:a}},updatePaths:function(){var i=this.clearPath(),e=i.opts,o=i.parsePath(i.value()),a="";return o.protocol&&(a=o.protocol+":"+e.sep),Std.each(o.paths,function(t,n){a+=e.sep+n,newDom("a","_path").data("path",a).append(newDiv("_text").html(n)).appendTo(i.DOMMap.paths),t<o.paths.length-1&&newDom("a","_path _icon").data("path",a).append(newDiv("_icon")).appendTo(i.DOMMap.paths)}),i},clearPath:function(){var t=this;return t.DOMMap.paths.clear(),t._paths.clear(),t}},j:{editable:function(t){return this.opt("editable",t,function(){this[0].css("cursor",t?"text":"")})},type:function(n){var i=this,e=i.DOMMap;return this.opt("type",n,function(t){t!==n&&("edit"===n?(i.initComboBox(),e.paths&&e.paths.detach()):"path"===n&&(i.initPaths(),e.comboBox&&e.comboBox.detach()),i.resize("height"))})},status:function(t){var n=this,i=n.opts,e=n.DOMMap;return n.opt("status",t,function(){"edit"===t&&this.editable()?(n.initComboBox(),e.comboBox.appendTo(e.pathsTD),e.paths.detach(),e.input.focus().value(n.value()),"auto"===i.border&&n.addClass("_border")):"none"===t&&(e.comboBox&&e.comboBox.detach(),e.pathsTD.append(e.paths),"auto"===i.border&&n.removeClass("_border"))})},icon:function(n){var i=this,e=i.DOMMap;return i.opt("icon",n,function(t){i.initIcon(),Std.icon.update(e.icon,n,{width:null,height:null}),i.rendered&&n!==t&&i.emit("iconChange",n)})},iconWidth:function(t){var n=this;return n.opt("iconWidth",t,function(){n.DOMMap.icon&&Std.icon.update(n.DOMMap.icon,{width:t}),isNumber(t)&&n.DOMMap.iconTD.width(t+6)})},iconHeight:function(t){var n=this;return n.opt("iconHeight",t,function(){n.DOMMap.icon&&Std.icon.update(n.DOMMap.icon,{height:t})})},value:function(n){var i=this;return i.opt("value",n,function(t){i.rendered&&n!==t&&(i.DOMMap.paths&&i.updatePaths(),i.DOMMap.input&&i.DOMMap.input.value(n),i.emit("change",n))})}},k:function(t,n){t._paths=[],t.initDOMTree(),t.call_opts({icon:null,editable:!1},!0),"edit"===n.type?t.addClass("_border").initComboBox():"path"!==n.type&&"toggle"!==n.type||t.initPaths(),!0===n.border&&t.addClass("_border")}});
"undefined;"