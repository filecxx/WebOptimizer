
Std.css({".StdUI_Image":{outline:"none",overflow:"hidden",display:"inline-block","*display":"inline","*zoom":1,">":{img:{float:"left",width:"100%",height:"100%",border:0}}}}),Std.ui.module("Image",{b:"widget",e:{defaultClass:"StdUI_Image",level:1,type:"stretch",src:null,zoom:!0,gray:!1},j:{zoom:function(t){var i=this.DOMMap;return this.opt("zoom",t,function(){i.img&&i.img&&i.img.css(t?{width:"100%",height:"100%"}:{width:"auto",height:"auto"})})},toBase64:function(){var t=this,i=newDom("canvas").dom,e=i.getContext("2d"),t=(i.width=t._image.width,i.height=t._image.height,e.drawImage(t._image,0,0),e.getImageData(0,0,i.width,i.height));return e.putImageData(t,0,0,0,0,t.width,t.height),i.toDataURL()},src:function(e){var a=this,o=a.opts,n=a.DOMMap;return this.opt("src",e,function(){a._image=null,n.img||(a[0].append(n.img=newDom("img")),a.zoom(o.zoom)),Std.loader.image(e,function(t,i){!1!==t&&(n.img.attr("src",e).show(),a.emit("load",a._image=i).gray(o.gray))})})},gray:function(i){var e=this;return e.opt("gray",i,function(){var t=e.opts.value;isEmpty(t)||null===e._image||!1!==i&&(Std.is.ie()?e[0].css("filter","grayscale(100%)"):e[0].css("filter",i?"progid:DXImageTransform.Microsoft.BasicImage(grayscale=1)":""),e.emit("gray",i))})}},k:function(t){t.DOMMap={},t.call_opts("src",!0)},m:{rule:{content:"src"},html:{nodeName:["DIV"],create:function(t){this.value(t.trimHTML())}}}});
"undefined;"