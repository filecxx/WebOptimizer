
var element_selector={find_unique_id:function(e){for(;e=e.parentNode;)if(e.id&&1===document.querySelectorAll("#"+e.id).length)return e.id;return null},make_unique_selector:function(e,t,n){var r="",o="",r=e.id?"#"+e.id:"string"==typeof e.className?element_selector.make_class_selector(e):e.nodeName.toLowerCase(),o=t?r+">"+t:r;if(1===document.querySelectorAll(o).length)return{selector:o,unique:!0};if(n){n="#"+n+" "+o;if(1===document.querySelectorAll(n).length)return{selector:n,unique:!0}}n=element_selector.make_selector_index(e,r);return 0!==n&&("string"==typeof n?r=n:r+=":nth-child("+n+")",o=t?r+">"+t:r),{selector:o,unique:1===document.querySelectorAll(o).length}},make_selector_index:function(e,t){var n=e.parentNode,r=0,o=0;if(!n||0===n.children.length)return r;if(1===n.children.length&&n.children[0]===e)return t;if(e===n.children[0])return t+":first-child";if(e===n.children[n.children.length-1])return t+":last-child";for(var l=0;l<n.children.length&&(r++,0===o)&&!(e===n.children[l]&&1<(o=r));++l);return 1<r?o:0},make_class_selector:function(e){for(var t=e.className.trim().split(" "),n=e.nodeName.toLowerCase(),r=0;r<t.length;++r){var o=t[r].trim();0<o.length&&(n+="."+o)}return n},make_selector:function(e){var t=element_selector.make_unique_selector(e);if(t.unique)return t.selector;for(var n=element_selector.find_unique_id(e),r=t.selector;(e=e.parentNode)&&(r=(t=element_selector.make_unique_selector(e,r,n)).selector,!t.unique););return r},select:function(t,e){function n(e){return e.preventDefault(),e.stopPropagation(),document.removeEventListener("mousedown",n,!0),!1}function r(e){return e.preventDefault(),e.stopPropagation(),document.body.removeChild(u),document.removeEventListener("mouseover",o,!0),document.removeEventListener("click",r,!0),t(element_selector.make_selector(e.target)),!1}function o(e){var t=get_element_offset(e.target);return u.style.left=t.left+"px",u.style.top=t.top+"px",u.style.width=e.target.offsetWidth-2+"px",u.style.height=e.target.offsetHeight-2+"px",e.preventDefault(),e.stopPropagation(),!1}var l,i={background:"red",opacity:"0.4",position:"absolute",margin:"0",padding:"0","pointer-events":"none","z-index":"2147483646",border:"1px dashed #660d29"},u=(e&&(i.top=0,i.left=0,i.width=document.body.offsetWidth-2+"px",i.height="100%"),document.createElement("div"));for(l in i)u.style[l]=i[l];document.body.appendChild(u),document.addEventListener("mouseover",o,!0),document.addEventListener("mousedown",n,!0),document.addEventListener("click",r,!0)}};