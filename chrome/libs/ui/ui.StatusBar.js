
Std.ui.module("StatusBar",{b:"widget",c:"message change clear iconChange",e:{level:3,defaultClass:"StdUI_StatusBar",messageTimeout:"2s",icon:null,iconWidth:22,iconHeight:22,minHeight:15,tabIndex:null,text:"no message",items:null,itemsSide:"left",itemVerticalAlign:"middle",itemSpacing:4},h:{timer:null},n:{initDOMTree:function(){var t=this.DOMMap={};this[0].append([t.content=newDiv("_content Std_wordnowrap").append([t.text=newDiv("_text")]),t.items=newDiv("_items")])},initIcon:function(){var t=this,e=t.DOMMap,i=e.icon=newDiv("_icon");return e.text?i.insertBefore(e.text):i.appendTo(t[0]),t.call_opts({iconWidth:null,iconHeight:null},!0)}},g:{render:function(){this.items(function(t,e){isWidget(e)&&!e.rendered&&e.render()}),this.updateItemsLayout()},destroy:function(){this.clear()},height:function(){this.rendered&&this.updateItemsLayout()},remove:function(t){var e=this,i=null;void 0!==t&&(i=e._items.items(t))&&(i.destroy(),e._items.remove(t),e.rendered&&e.updateItemsLayout())}},i:{createItem:function(t){this.opts;return isWidget(t)?t.parent(this):Std.is.DOM(t)?t:isObject(t)&&t.ui?Std.ui(t.ui,t):null},updateItemsLayout:function(){var t=this,o=t.opts,e=t.DOMMap,r=t.height()-t.boxSize.height-t.boxSize.extraHeight,s=o.itemVerticalAlign;e.content.css({lineHeight:r}),e.icon&&isNumber(o.iconHeight)&&e.icon.marginTop((r-o.iconHeight)/2),t.items(function(t,e){var i=0,n=0;isWidget(e)?n=e.height():Std.is.DOM(e)&&(n=e.outerHeight()),"bottom"===s?i=r-n:"middle"===s&&(i=(r-n)/2),Std.dom(e).css({marginTop:i,marginLeft:o.itemSpacing})})}},j:{items:function(t,e){return this._items.items(t,e)},messageTimeout:function(t){return this.opt("messageTimeout",t)},itemSpacing:function(t){return this.opt("itemSpacing",t,function(){this.rendered&&this.updateItemsLayout()})},itemVerticalAlign:function(t){return this.opt("itemVerticalAlign",t,function(){this.rendered&&this.updateItemsLayout()})},itemsSide:function(t){return this.opt("itemsSide",t,function(){this.DOMMap.items.css("float",t)})},icon:function(e){var i=this,n=i.opts,o=i.DOMMap;return i.opt("icon",e,function(t){i.initIcon(),Std.icon.update(o.icon,e,{width:n.iconWidth,height:n.iconHeight}),i.rendered&&e!==t&&i.emit("iconChange",e)})},iconWidth:function(t){var e=this;return e.opt("iconWidth",t,function(){e.DOMMap.icon&&Std.icon.update(e.DOMMap.icon,{width:t})})},iconHeight:function(t){var e=this;return e.opt("iconHeight",t,function(){e.DOMMap.icon&&Std.icon.update(e.DOMMap.icon,{height:t})})},text:function(e){var i=this;return i.opt("text",e,function(t){i.DOMMap.text.html(e),i._timer&&clearTimeout(i._timer),i.rendered&&e!==t&&i.emit("change",e)})},message:function(t,e,i){var n=this,o=n.opts;return null!==n._timer&&clearTimeout(n._timer),e=e||o.messageTimeout,n.DOMMap.text.html(t),n._timer=setTimeout(function(){n.text(n.text()),isFunction(i)&&i.call(n)},Std.convert.timeUnit(e)),n.emit("message",[t,e])},insert:function(t,e,i){var n=this,o=null;return n._items.insert(t,e,i,function(t){return o=n.createItem(t)}),null!==o&&(n.DOMMap.items.insert(Std.dom.get(o),i),n.rendered&&(t=n.parent(),isWidget(o)&&o.render(),t.ui&&"layoutItem"===t.ui&&t.parent().update()),n)},append:function(t,e){var i=this;return isArray(t)?Std.each(t,function(t,e){i.insert(e)}):i.insert(t,e),i.rendered&&i.updateItemsLayout(),i},clear:function(){var t=this,e=t.DOMMap;return null!==t._timer&&(clearTimeout(t._timer),t._timer=null),t.items(function(t,e){e.destroy()}),t._items.clear(),e.text.clear(),t.emit("clear")}},k:function(t,e){t._items=Std.items(),t.initDOMTree(),t.call_opts({icon:null,itemsSide:"left"},!0),e.text&&t.text(e.text),e.items&&t.append(e.items)}});
"undefined;"