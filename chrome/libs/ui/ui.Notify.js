
Std.ui.module("Notify",{b:"widget",c:"click cellClick",e:{level:1,defaultClass:"StdUI_Notify",icon:!0,type:"information",theme:"default",title:"notify",text:"",side:"none",timeout:0,width:"auto",height:"auto",titleColor:null,textColor:null,closable:!0,cellWidth:16,cellHeight:16,cellSpacing:5},private:{timer:null},f:{instances:[],close:function(t){var e=Std.ui.modules.Notify.instances;return void 0===t?Std.each(e,function(){e.close()}):t instanceof Std.ui("Notify")&&t.close(),this},show:function(c,a){a=Std.extend({overlap:!1,spacing:4,direction:"southeast",duration:400,offsetParent:null},a);function e(){u=d=m=0,f=t.width(),p=t.height(),Std.each(i,function(t,e){var i=e._showOption;i&&i.offsetParent===a.offsetParent&&i.direction===a.direction&&n(t,e,i.spacing,i.overlap)})}var u=0,d=0,h=a.direction,i=Std.ui("Notify").instances,t=Std.dom(a.offsetParent)||Std.dom(window),f=0,p=0,m=0,n=function(t,e,i,n){var o=0,s=0,r=e.width(),l=e.height();"north"===h?(u=i+m,d=s=(f-r)/2,o=-l,m+=n?0:l+i):"northeast"===h?(u=i+m,d=s=f-r-i,o=-l,m+=n?0:l+i):"east"===h?(u=o=(p-l)/2,d=f-r-i-m,s=f,m+=n?0:r+i):"southeast"===h?(u=p-l-i-m,d=s=f-r-i,o=p,m+=n?0:l+i):"south"===h?(u=p-l-i-m,d=s=(f-r)/2,o=p,m+=n?0:l+i):"southwest"===h?(u=p-l-i-m,d=s=i,o=p,m+=n?0:l+i):"west"===h?(u=o=(p-l)/2,d=i+m,s=-r,m+=n?0:r+i):"northwest"===h&&(u=i+m,d=s=i,o=-l,m+=n?0:l+i),e===c&&e[0].css({top:o,left:s}),e.left()===d&&e.top()===u||e[0].animateTo({top:u,left:d},{duration:a.duration,timingFunction:"ease"})};return c[0].css({position:"fixed",left:0,top:0,zIndex:++Std.ui.status.zIndex}),c._showOption=a,i.push(c.on({destroy:function(){var t=i.indexOf(c);-1!==t&&i.remove(t),e()}}).renderTo("body")),e(),this},create:function(t,e,i,n){t={type:t},isObject(e)?(Std.extend(t,e),isObject(i)&&(n=i)):isString(e)&&(t.text=e,isString(i)?t.title=i:isObject(i)&&(n=i)),e=Std.ui("Notify",t);return Std.ui("Notify").show(e,n),e},information:function(t,e,i){return this.create("information",t,e,i)},warning:function(t,e,i){return this.create("warning",t,e,i)},success:function(t,e,i){return this.create("success",t,e,i)},error:function(t,e,i){return this.create("error",t,e,i)},question:function(t,e,i){return this.create("question",t,e,i)}},g:{render:function(){var t=this,e=t.opts;e.timeout&&t.timeout(e.timeout),t.initEvents()},width:function(t){"auto"!==t&&(isNumber(t)||(t=this.width()),this.DOMMap.mainTable.width(t-=this.boxSize.width+this.boxSize.extraWidth))},destroy:function(){var t=this;t._timer&&(clearTimeout(t._timer),t._timer=null)}},i:{initIcon:function(){this.DOMMap.iconTD.append(this.DOMMap.icon=newDiv("_icon _default"))},initEvents:function(){var e=this;e[0].focussing(function(){e.addClass("focused")},function(){e.removeClass("focused")}).mouse({click:function(t){e.emit("click",t)}})},initDOMTree:function(){var t=this.DOMMap={};t.mainTable=newDom("table","_mainTable").append(t.mainTbody=newDom("tbody").append([t.tr1=newDom("tr").append([t.iconTD=newDom("td","_icon").attr("rowspan",2),t.titleTD=newDom("td","_title")]),t.tr2=newDom("tr").append([t.textTD=newDom("td","_text")])])).appendTo(this[0])}},j:{text:function(t){return this.opt("text",t,function(){this.DOMMap.textTD.html(t),this.rendered&&this.repaint()})},title:function(t){return this.opt("title",t,function(){this.DOMMap.titleTD.html(t),this.rendered&&this.repaint()})},icon:function(t){return this.opt("icon",t,function(){Std.icon.update(this.DOMMap.icon.removeClass("_default"),t),this.rendered&&this.repaint()})},type:function(t){var e=this.opts;return void 0===t?e.type:this.removeClass("-"+e.type).addClass("-"+(e.type=t))},titleColor:function(t){var e=this.DOMMap;return void 0===t?e.titleTD.color():(e.titleTD.color(this.opts.titleColor=t),this)},textColor:function(t){var e=this.DOMMap;return void 0===t?e.textTD.color():(e.textTD.color(this.opts.textColor=t),this)},closable:function(t){var e=this;return e.opt("closable",t,function(){t?e.addCell("close",newDiv("_cell _close"),function(){e.remove()}):e.removeCell("close")})},timeout:function(t){var e=this;return this.opt("timeout",t,function(){e._timer&&clearTimeout(e._timer),e._timer=setTimeout(function(){e.destroy(),e._timer=null},Std.convert.timeUnit(t,"ms"))})},repaint:function(){var t=this.opts,e=this.DOMMap;isNumber(t.width)&&this[0].removeStyle("width"),e.mainTable.removeStyle("width"),this.resize("width")},cells:function(t){var e=this;return e._cells||(e._cells={}),void 0===t?e._cells:isString(t)?e._cells[t]||null:e},addCell:Std.func(function(e,i,n){var o=this,t=o.opts,s=i;o._cells||(o._cells={}),e in o._cells||(Std.is.DOM(i)||(i=Std.icon.update(s=newDiv("_cell"),i,{width:null,height:null})),s.mouse({click:function(t){o.emit("cellClick",{name:e,cell:s,data:i}),isFunction(n)&&n.call(s,t)}}),o._cells[e]=newDom("td","_cell").append(s).css({width:t.cellWidth,height:t.cellHeight,paddingLeft:t.cellSpacing}).appendTo(o.DOMMap.tr1))},{each:[isObject,isArray]}),removeCell:Std.func(function(t){var e=this.opts.width,i=this._cells;i&&i[t]&&(i[t].remove(),delete i[t],this.rendered&&isNumber(e)&&this.width(e))},{each:[isArray,isString]})},k:function(t,e,i){i.addClass("_"+e.type),t.initDOMTree(),t.call_opts({text:"",title:"",closable:!1,titleColor:null,textColor:null},!0),!1!==e.icon&&t.initIcon(),isBool(e.icon)||t.icon(e.icon)},support:{rule:{content:"text"},html:{nodeName:["DIV"],create:function(t){var e=t.attr("title");null!==e&&this.title(e),this.text(t.trimHTML())}}}});
"undefined;"