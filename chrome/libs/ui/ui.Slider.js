
Std.model("ui.Slider",{parent:"widget",c:"dragStart dragStop change",e:{min:0,max:100,value:0,color:"#5FA8DB",defaultClass:"StdUI_Slider",text:"",textTheme:"default",handleWidth:18,handleHeight:18},g:{init_boxSize:function(){this.handleBoxSize=this.DOMMap.handle.boxSize()},render:function(){var e=this,t=e.opts;e.DOMMap.handle.css({width:t.handleWidth-e.handleBoxSize.width,height:t.handleHeight-e.handleBoxSize.height}),e.call_opts("color"),e.on("resize",e.refresh),e.refresh(),e.initDrag(),e.initEvents()}},n:{initEvents:function(){var e=this,t=!1;e[0].focussing(function(){this.addClass("focused"),!1===t&&(t=!0,e.initKeyboard(),e[0].unselect())},function(){this.removeClass("focused")})},initKeyboard:function(){var t=this;return t.on("keydown",function(e){if(t.enable())switch(e.keyCode){case 37:case 38:t.value(t.value()-1);break;case 39:case 40:t.value(t.value()+1)}})},initDrag:function(){var i,n,a,o,h=this,r=h.opts,d=0,l=0,t=Std.dom(document),s=function(e){var e=e[n]-i[a],t=0;"pageX"===n?t=r.min+Math.round((e-l/2)/(d-l)*(r.max-r.min)):"pageY"===n&&(t=r.min+Math.round((d-e-l/2)/(d-l)*(r.max-r.min))),h.value(t),o&&o.html(sprintf(h.text(),h.value(),r.min,r.max))&&o.update()},u=function(){o&&(h.DOMMap.handle.removePlugin("ToolTip"),o=null)};h[0].mouse({down:function(e){h.enable()&&1===e.which&&(isEmpty(h.text())||(u(),o=h.DOMMap.handle.plugin("ToolTip",{event:e,trigger:"none",arrowOffset:0,autoHide:!1,theme:r.textTheme})),i=h[0].offset(),"horizontal"===h._direction?(n="pageX",a="x",l=r.handleWidth,d=h.width()-h.boxSize.width):"vertical"===h._direction&&(n="pageY",a="y",l=r.handleHeight,d=h.height()-h.boxSize.height),t.on("mousemove",s(e)||s),h.emit("dragStart"),e.preventDefault())},up:function(){u(),t.off("mousemove",s),h.enable()&&h.emit("dragStop")}})}},i:{updateProgress:function(e){var t=this;switch(t._direction){case"horizontal":t.DOMMap.progress.width(e);break;case"vertical":t.DOMMap.progress.height(e)}return t},updateValue:function(e){var t=this,i=t.opts,n=0,a=0,o=0,h="",r=null,d=i.max-i.min,l=t._direction;return"horizontal"===l?(n=t.width(),h="left",a=t.boxSize.width,o=i.handleWidth,r=Math.round((n-a-o)/d*(e-i.min)),t.DOMMap.handle.css(h,r)):"vertical"===l&&(n=t.height(),h="top",a=t.boxSize.height,o=i.handleHeight,r=Math.round((n-a-o)/d*(e-i.min)),t.DOMMap.handle.css(h,(n-a-o)/d*(d-e-i.min))),t.updateProgress(r+o/2),t.emit("change",i.value=e)}},j:{text:function(e){return this.opt("text",e)},refresh:function(){return this.value(this.opts.value)},min:function(e){return this.opt("min",e,function(){this.refresh()})},max:function(e){return this.opt("max",e,function(){this.refresh()})},color:function(e){return this.opt("color",e,function(){this.DOMMap.progress.css("background",e)})},range:function(e,t){var i=this.opts;return void 0===e?{min:i.min,max:i.max}:(i.min=e,i.max=t,this)},value:function(e){var t=this.opts;return void 0===e?t.value:((e=int(e))<t.min?e=t.min:e>t.max&&(e=t.max),this.updateValue(e))}},k:function(e,t,i){var n=e.DOMMap={};i.addClass("_"+e._direction).append([n.client=newDiv("_client").append(n.progress=newDiv("_progress")),n.handle=newDiv("_handle").attr("tabindex",1)])},m:{rule:{content:"value"},html:{create:function(e){this.value(~~e.html())}}}}),Std.ui.module("HSlider",{a:"ui.Slider",e:{level:3,height:22},h:{direction:"horizontal"},g:{height:function(e){var t=this,i=t.opts,n=t.DOMMap,a=t.height();t.handleBoxSize&&(i=i.handleHeight-t.handleBoxSize.height,n.handle.css({top:(a-i)/2})),n.client.css("top",Math.round((a-n.client.height())/2))}}}),Std.ui.module("VSlider",{a:"ui.Slider",e:{level:3,width:22,fixedWidth:!0},h:{direction:"vertical"},g:{width:function(e){var t=this,i=t.opts,n=t.DOMMap,a=t.width();t.handleBoxSize&&(i=i.handleWidth-t.handleBoxSize.width,n.handle.css({left:(a-i)/2})),n.client.css("left",Math.round((a-n.client.width())/2))}}});
"undefined;"