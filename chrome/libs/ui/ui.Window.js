
Std.ui.module("Window",{b:"Panel",c:"minimize maximize restore",e:{defaultClass:"StdUI_Panel StdUI_Window",minWidth:180,minHeight:100,acceptEsc:!1,resizable:!0,draggable:!0,closable:!0,minimizable:!1,maximizable:!1,center:!0,modal:!1,minimize:!1,maximize:!1,title:"Window",renderTo:"body",titleIcon:{className:"_default"}},h:{locker:null,lastRect:null,windowResize:null},g:{render:function(){var i=this,e=i.opts;e.center&&i.move("center"),e.modal&&i.initLocker(),i.call_opts({maximize:!1,resizable:!1,draggable:!1},!0),i.focus(1),i.initKeyboard()},titleButtonClick:function(i){var e=this;switch(i){case"min":e.minimize(!0);break;case"max":e.maximize(!e.opts.maximize)}return e},visible:function(i){var e=this._locker;e&&e.visible(i)},destroy:function(){var i=this;i._locker&&i._locker.remove(),i._windowResize&&Std.dom(window).off("resize",i._windowResize),i._keyupHandle&&Std.dom(window).off("keyup",i._keyupHandle)}},i:{initLocker:function(){this._locker=Std.ui("locker",{renderTo:this[0].parent(),opacity:.1,visible:!0})},initWindowEvent:function(){var i=this,e=i[0].offsetParent();return e.contains("body")&&(e=Std.dom(window)),Std.dom(window).on("resize",i._windowResize=function(){i.move(0,0).size(e.outerWidth(),e.outerHeight())}),i},initKeyboard:function(){var e=this,t=e.opts;return Std.dom(window).on("keydown[esc]",e._keyupHandle||(e._keyupHandle=function(i){t.acceptEsc&&e.close()})),e},initTitleButtons:function(){var i=this,e=i.opts;return i._titleButtons.close?(i.insertTitleButtonBefore("min","_min","close"),i.insertTitleButtonBefore("max","_max","close")):i.appendTitleButton({min:"_min",max:"_max"}),i.DOMMap.titleBar.on({dblclick:function(){e.maximizable&&i.maximize(!e.maximize)}}),i},initTitleContextMenu:function(){var e=this,t=e.opts,i=[{text:"Restore",icon:{className:"_restore"},click:function(){e.restore()}},{text:"Minimize",icon:{className:"_min"},enable:t.minimizable,click:function(){e.minimize(!0)}},{ui:"MenuItem",text:"Maximize",icon:{className:"_max"},enable:t.maximizable,click:function(){e.maximize(!0)}},{ui:"sep"},{text:"Hide Window",click:function(){e.hide()}},{ui:"MenuItem",text:"Move To",enable:!1,items:[{text:"center"}]},{ui:"sep"},{text:"Close",icon:{className:"_close"},css:{fontWeight:"bold"},enable:t.closable,click:function(){e.close()}}];e.DOMMap.titleBar.plugin("contextMenu",{width:160,items:i,on:{show:function(){var i=this.menu.items();i[0].enable(e._lastRect),i[2].enable(t.maximizable&&!e.maximize()),i[7].enable(t.closable)}}})},saveRect:function(){var i=this;return i._lastRect={top:i[0].css("top"),left:i[0].css("left"),width:i.width(),height:i.height()}}},j:{minimizable:function(i){var e=this;return e.opt("minimizable",i,function(){e.titleButtons("min").visible(i)})},maximizable:function(i){var e=this;return e.opt("maximizable",i,function(){e.titleButtons("max").visible(i)})},resizable:function(i){var e=this;return e.opt("resizable",i,function(){e.plugin("resize")||e.plugin("resize",{on:{stop:function(){}}}),e.plugin("resize").resizable(i)})},draggable:function(i){var e=this,t=e.DOMMap;return e.opt("draggable",i,function(){e.plugin("drag")||(e.plugin("drag",{handle:t.titleBar}),e.plugin("drag").on({start:function(){t.client.css("visibility","hidden")},stop:function(){t.client.removeStyle("visibility")}})),e.plugin("drag").draggable(i)})},minimize:function(i){var e=this;return e.opt("minimize",i,function(){e.animation("minimize",function(){e.visible(!i)},i),e.emit("minimize",i)})},maximize:function(i){var e=this;return e.opt("maximize",i,function(){!1===i?e.restore():(e.titleButtons("max").addClass("_restore"),e._windowResize||e.initWindowEvent(),e.animation("maximize",function(){e._windowResize()},e.saveRect())),e.emit("maximize",i)})},restore:function(){var i=this,e=i._lastRect;return i.opts.maximize=!1,i.titleButtons("max").removeClass("_restore"),null!==e&&i.animation("restore",function(){i.width(e.width),i.height(e.height),i[0].css({top:e.top,left:e.left})},e),i._windowResize&&Std.dom(window).off("resize",i._windowResize),i.emit("restore")}},k:function(i,e,t){t.focussing(function(){i.toForeground()},null,!1),i.initTitleContextMenu(),i.initTitleButtons(),i.call_opts({minimizable:!0,maximizable:!0},!0)}}),Std.ui.module("MainWindow",{b:"Window",e:{},k:function(){}});
"undefined;"