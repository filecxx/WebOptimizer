
Std.ui.module("Panel",{b:"widget",c:"titleButtonClick beforeClose close",e:{defaultClass:"StdUI_Panel",level:4,minWidth:70,minHeight:50,title:"panel",theme:"default",menuBar:null,toolBar:null,titleIcon:null,titleHeight:26,titleButtons:null,titleBarVisible:!0,clientPadding:8,collapsible:!1,collapsed:!1,closable:!1,closeMethod:"destroy",boxShadow:!0,centralClass:"",overflow:"none"},h:{titleBar:null,menuBar:null,toolBar:null,client:null,central:null,titleButtons:null},n:{initEvents:function(){var e=this,t=!1,i=e.DOMMap;e[0].on({focusin:function(){e.enable()&&e.addClass("focused")},focusout:function(){e.removeClass("focused")},mousedown:function(t){e.focus()},mouseenter:function(){0==t&&(i.titleBar.unselect(t=!0),e._toolBar&&e._toolBar[0].unselect(!0))}})},initTitleEvents:function(){var i=this;i.DOMMap.titleBar.on("mouseenter","> ._buttons > ._button",function(t){this.mouse({auto:!1,down:function(t){t.stopPropagation()},click:function(){var t,e=i._titleButtons;for(t in e)e[t].contains(this)&&i.enable()&&i.titleButtonClick(t)}},t)})},initTitle:function(){var t=this,e=t.opts,i=t.DOMMap;i.titleBar=newDiv("_title").outerHeight(e.titleHeight).append([i.titleText=newDiv("_text").lineHeight(e.titleHeight).html(e.title),i.titleButtons=newDiv("_buttons")]).appendTo(t[0]),e.titleBarVisible||i.titleBar.hide()},initBody:function(){this[0].append(this.DOMMap.body=newDiv("_body"))},initClient:function(){var e=this,t=e.opts,i=e.DOMMap;i.client=newDiv("_client").append(e._central=Std.ui("widget",{defaultClass:"_central",className:t.centralClass,appendTo:e[0],tabIndex:null,initBoxSize:!1,initSize:!1,css:{overflow:t.overflow},on:{load:function(t){e.emit("load",t)}}})).appendTo(i.body),t.clientPadding&&i.client.padding(t.clientPadding)}},g:{beforeRender:function(){var t=this;t._menuBar&&t._menuBar.render(),t._toolBar&&t._toolBar.render(),t._central.render()},render:function(){this.initEvents(),this.call_opts({collapsed:!1},!0)},enable:function(t){var e=this;e._menuBar&&e._menuBar.enable(t),e._toolBar&&e._toolBar.enable(t),e._central&&e._central.enable(t),e[0].unselect(!t)},width:function(t){var e=this;e.opts;e.rendered&&"auto"!==t&&e.__final__("width",function(){e._central.emit("resize")})},height:function(t){var e,i,n;"auto"!==t&&(i=(e=this).opts,n=-((n=e.boxSize).height+n.extraHeight),isNumber(t)?n+=t:n+=e.height(),i.titleBarVisible&&(n-=i.titleHeight),i.clientPadding&&(n-=2*i.clientPadding),e._toolBar&&(n-=e._toolBar.height()),e._menuBar&&(n-=e._menuBar.height()),Std.init.css.boxSizing||e._central[0].outerHeight(n),e.DOMMap.client.height(n),e.__final__("height",function(){e._central.emit("resize")}))},destroy:function(){var t=this;t._menuBar&&t._menuBar.remove(),t._toolBar&&t._toolBar.remove(),t._central.destroy()}},i:{titleButtonClick:function(t){var e=this,i=e.opts;return"collapse"===t?e.collapsed(!i.collapsed,!0):"close"===t&&e.close(),e.emit("titleButtonClick",[t,e],!0)},createTitleButton:function(t,e){var i=null,n=this._titleButtons;return t in n||(n[t]=i=Std.is.DOM(e)?e:newDiv("_button").data(t,e),isPlainObject(e)?i.set(e):isString(e)&&i.addClass(e)),i}},j:{title:function(t){return this.opt("title",t,function(){this.titleText(t)})},collapsible:function(t){var e=this,i=e._titleButtons;return e.opt("collapsible",t,function(){!0!==t||i.collapse?e.titleButtons("collapse").visible(t):e.insertTitleButton("collapse","_collapse",0)})},closable:function(t){var e=this,i=e._titleButtons;return e.opt("closable",t,function(){!0!==t||i.close?e.titleButtons("close").visible(t):e.appendTitleButton("close","_close")})},close:function(){var t=this,e=t.opts.closeMethod;return t.emit("beforeClose").animation("close",function(){isFunction(e)?e.call(t):isString(e)&&e in t&&t[e](),t.emit("close")},e),t},clientPadding:function(t){return this.opt("clientPadding",t,function(){this.DOMMap.client&&this.DOMMap.client.padding(t)})},titleText:function(t){var e=this;return e.opt("text",t,function(){e.DOMMap.titleText.html(t)})},titleIcon:function(t){var e=this.DOMMap;return this.opt("titleIcon",t,function(){e.titleIcon||(e.titleIcon=newDiv("_icon").prependTo(e.titleBar)),Std.icon.update(e.titleIcon,t,{width:null,height:null})})},titleBarVisible:function(t){var e=this,i=e.DOMMap;return e.opt("titleBarVisible",t,function(){i.titleBar.visible(t),e.resize("height")})},boxShadow:function(t){var e=this;return e.opt("boxShadow",t,function(){!1===t?e[0].css("boxShadow","none"):!0===t?e[0].removeStyle("boxShadow"):isString(t)&&e[0].css("boxShadow",t)})},url:function(t,e){return void 0===t?this._central.url():(this._central.url(t,e),this)},html:function(t){return void 0===t?this._central.html():(this._central.html(t),this)},iframe:function(t){var e=this;return void 0===t?e._central.iframe():(e._central.iframe(t),setTimeout(function(){e._central[0].children("iframe")[0].css("float","left")},1),e)},layout:function(t){return void 0===t?this._central.layout():(this._central.layout(t),this)},menuBar:function(t){var e=this;return void 0===t?e._menuBar||null:(isWidget(t)?e._menuBar=t:isObject(t)&&(e._menuBar=Std.ui("MenuBar",t)),e.DOMMap.body.prepend(e._menuBar.parent(e)),e.rendered&&(e._menuBar.render(),e.resize("height")),e)},toolBar:function(t){var e=this;return void 0===t?e._toolBar||null:(isWidget(t)?e._toolBar=t:isObject(t)&&(e._toolBar=Std.ui("ToolBar",t)),e.DOMMap.body.insertBefore(e._toolBar.parent(e),e.DOMMap.client),e.rendered&&(e._toolBar.render(),e.resize("height")),e)},collapsed:function(t,e){var i=this,n=i.opts;return i.opt("collapsed",t,function(){i.collapsible()&&(!0===t?(i[0].data("latestHeight",i[0].height()),e?i[0].animateTo({height:n.titleHeight},200):i[0].height(n.titleHeight)):e?i[0].animateTo({height:i[0].data("latestHeight")},200,function(){i.resize("height")}):i.resize("height"),i.titleButtons("collapse").toggleClass("_open",t))})},titleButtons:function(t,e){var i=this._titleButtons;return void 0===t?i:isString(t)&&void 0===e?i[t]:(this.appendTitleButton(t,e),this)},insertTitleButton:function(t,e,i){t=this.createTitleButton(t,e);return null===t?t:(this.DOMMap.titleButtons.insert(t,i="number"!=typeof i?-1:i),this)},insertTitleButtonBefore:Std.func(function(t,e,i){t=this.createTitleButton(t,e),e=this._titleButtons;null!==t&&i in e&&this.DOMMap.titleButtons.insertBefore(t,e[i])},{each:[isArray]}),insertTitleButtonAfter:Std.func(function(t,e,i){t=this.createTitleButton(t,e),e=this._titleButtons;null!==t&&i in e&&this.DOMMap.titleButtons.insertAfter(t,e[i])},{each:[isArray]}),appendTitleButton:Std.func(function(t,e){t=this.createTitleButton(t,e);null!==t&&this.DOMMap.titleButtons.append(t)},{each:[isObject]}),removeTitleButton:Std.func(function(t){var e=this._titleButtons;isObject(e[t])&&(e[t].remove(),delete e[t])},{each:[isArray,isString]})},k:function(t,e,i){t.DOMMap={},t._titleButtons={},t.initTitle(),t.initBody(),t.initClient(),t.initTitleEvents(),t.call_opts({menuBar:null,toolBar:null,titleIcon:null,titleButtons:null,collapsible:!1,closable:!1,boxShadow:!0},!0)},m:{rule:{content:"html",children:function(t){isArray(t)&&0<t.length&&t[0]instanceof Std_ui("layout")&&this.layout(t[0])}},html:{nodeName:["DIV"],create:function(t){var e=null,i=t.html(),n=t.attr("std-content");if(n&&"html"!==n){if("iframe"==n)this.iframe(i.trim());else if("url"==n)this.url(i.trim());else if("layout"==n&&(e=t.children(0))&&Std.ui(e.attr("std-ui"))){n=Std.ui.build(e,!1);if(n instanceof Std.ui("layout"))return this.layout(n);n.destroy()}}else this.html(i)}}}});
"undefined;"