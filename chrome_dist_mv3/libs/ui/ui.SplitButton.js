
Std.ui.module("SplitButton",{b:"widget",c:"mousedown mouseup click press longpress focus blur open close",e:{level:2,defaultClass:"StdUI_SplitButton",text:"SplitButton",tabIndex:null,icon:null,iconWidth:18,iconHeight:18,href:"",target:"_blank",theme:"default",styleType:"text",width:"auto",height:"auto",minWidth:30,minHeight:20,dropdown:null,buttonType:"Button"},h:{timer:null},g:{beforeRender:function(){this._group.render()},render:function(){this._dropdown&&this._dropdown.render()},destroy:function(){var t=this;isObject(t._dropdown)&&t._dropdown.remove(),t._timer&&clearTimeout(t._timer),t._closeit&&Std.dom(document).off("click",t._closeit)},width:function(t){var e=this;"auto"!==t&&(isNumber(t)||(t=e.width()),e._button.width(t-e._handle.width()))},height:function(t){"auto"!==t&&isNumber(t)&&this._group.height(t)}},j:{theme:function(t){var e=this;return this.opt("theme",t,function(){e._button.theme(t),e._handle.theme(t),e._handle.DOMMap.icon.className("_handleIcon __"+t+"__")})},enable:function(t){var e=this;return e.opt("enable",t,function(){e._button.enable(t),e._handle.enable(t)})},open:function(){var t,e=this,o=e._dropdown;return e._closeit||(e._closeit=function(t){t&&!Std.dom(o).contains(t.target)&&e.close()}),o&&!o.visible()&&(t=e[0].offset(),o.visible(!0),o.move(t.x+e.width()+e[0].marginLeft()-o.width(),t.y+e.height()+1),e.addClass("checked"),e.emit("open"),e._timer=setTimeout(function(){Std.dom(document).on("click",e._closeit)},1)),e},close:function(){var t=this,e=t._dropdown;return t._closeit&&Std.dom(document).off("click",t._closeit),e&&e.visible()&&(e.hide(),t.removeClass("checked"),t.emit("close")),t},dropdown:function(t){var e=this;return void 0===t?e._dropdown||null:(isWidget(t)?e._dropdown=t:isObject(t)&&(e._dropdown=Std.ui(t.ui||"Menu",t)),isWidget(e._dropdown)&&(e._dropdown.visible(!1).on("visible",function(t){e._handle.checked(t)}),e._dropdown[0].css({position:"absolute",margin:0}).appendTo("body"),e._dropdown instanceof Std.ui("Menu")&&e._dropdown.on("itemPress",function(){e.close()})),e.rendered&&e._dropdown&&e._dropdown.render(),e)}},k:function(e,t){e._button=Std.ui(t.buttonType,{text:t.text,icon:t.icon,theme:t.theme,target:t.target,href:t.href,styleType:t.styleType,iconWidth:t.iconWidth,iconHeight:t.iconHeight,fixedWidth:!0}),e._handle=Std.ui(t.buttonType,{styleType:"icon",iconWidth:16,iconHeight:16,theme:t.theme,tabIndex:null,checkable:!0,className:"StdUI_SplitButton_Hand",icon:{className:"_handleIcon __"+t.theme+"__"},fixedWidth:!0,on:{checked:function(t){t?e.open():e.close()}}}),e._group=Std.ui("ButtonGroup",{stretch:!0,appendTo:e,spacing:0,items:[e._button,e._handle]}),Std.hooker.hijack(e._button,"emit",function(t){e.emit.apply(e,t)}),e.call_opts({dropdown:null},!0)},l:function(t,e){Std.each("href target icon text iconWidth iconHeight styleType",function(t,o){e[o]=function(t){var e=this._button;return void 0===t?e[o]():(e[o](t),this)}})},support:{rule:{content:"text",children:function(t){this.dropdown(t[0])}},html:{create:function(t){var e=t.attr("std-icon"),o=t.attr("title"),t=t.children();isString(e)&&this.icon(e),isString(o)&&this.text(o),t&&0<t.length&&(e=t[0].attr("std-ui"),isString(e)&&Std.ui(e)&&this.dropdown(Std.ui.build(t[0],!1)))}}}}),Std.ui.module("SplitToolButton",{parent:"SplitButton",option:{defaultClass:"StdUI_SplitToolButton",buttonType:"ToolButton"}});
"undefined;"